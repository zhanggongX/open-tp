import{z as A,_ as V}from"./index.8db9e24f.js";/* empty css                *//* empty css                *//* empty css                */import{d as w,j as y,C as f,aE as g,aH as a,aI as t,aM as n,G as C,aN as i,b7 as T,b8 as N,bZ as q,b_ as L,c2 as E,aY as S,bd as I,aW as P,c1 as D,bc as M,D as U,bu as z,bw as Z,bb as j,bo as G,b1 as H,bJ as J,aF as K,u as O,c3 as W,c4 as Y,bT as Q,bt as X}from"./arco.08ce5409.js";import{u as x}from"./loading.fe93ec0f.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                */import"./chart.ea45cf69.js";import"./vue.74cbe595.js";function ee(h){return A.post("/api/channel-form/submit",{data:h})}const te=w({__name:"base-info",emits:["changeStep"],setup(h,{emit:v}){const d=v,s=y(),o=y({activityName:"",channelType:"",promotionTime:[],promoteLink:"https://arco.design"}),b=async()=>{var e;await((e=s.value)==null?void 0:e.validate())||d("changeStep","forward",{...o.value})};return(l,e)=>{const r=T,u=N,p=q,_=L,$=E,F=S,k=I;return f(),g(k,{ref_key:"formRef",ref:s,model:o.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(u,{field:"activityName",label:l.$t("stepForm.form.label.activityName"),rules:[{required:!0,message:l.$t("stepForm.form.error.activityName.required")},{match:/^[a-zA-Z0-9\u4e00-\u9fa5]{1,20}$/,message:l.$t("stepForm.form.error.activityName.pattern")}]},{default:a(()=>[t(r,{modelValue:o.value.activityName,"onUpdate:modelValue":e[0]||(e[0]=m=>o.value.activityName=m),placeholder:l.$t("stepForm.placeholder.activityName")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(u,{field:"channelType",label:l.$t("stepForm.form.label.channelType"),rules:[{required:!0,message:l.$t("stepForm.form.error.channelType.required")}]},{default:a(()=>[t(_,{modelValue:o.value.channelType,"onUpdate:modelValue":e[1]||(e[1]=m=>o.value.channelType=m),placeholder:l.$t("stepForm.placeholder.channelType")},{default:a(()=>[t(p,null,{default:a(()=>e[4]||(e[4]=[n("APP\u901A\u7528\u6E20\u9053")])),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(u,{field:"promotionTime",label:l.$t("stepForm.form.label.promotionTime"),rules:[{required:!0,message:l.$t("stepForm.form.error.promotionTime.required")}]},{default:a(()=>[t($,{modelValue:o.value.promotionTime,"onUpdate:modelValue":e[2]||(e[2]=m=>o.value.promotionTime=m)},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(u,{field:"promoteLink",label:l.$t("stepForm.form.label.promoteLink"),rules:[{required:!0,message:l.$t("stepForm.form.error.promoteLink.required")},{type:"url",message:l.$t("stepForm.form.error.promoteLink.pattern")}],"row-class":"keep-margin"},{help:a(()=>[C("span",null,i(l.$t("stepForm.form.tip.promoteLink")),1)]),default:a(()=>[t(r,{modelValue:o.value.promoteLink,"onUpdate:modelValue":e[3]||(e[3]=m=>o.value.promoteLink=m),placeholder:l.$t("stepForm.placeholder.promoteLink")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(u,null,{default:a(()=>[t(F,{type:"primary",onClick:b},{default:a(()=>[n(i(l.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1},8,["model"])}}});const oe=V(te,[["__scopeId","data-v-b8f630c6"]]),ae=w({__name:"channel-info",emits:["changeStep"],setup(h,{emit:v}){const d=v,s=y(),o=y({advertisingSource:"",advertisingMedia:"",keyword:[],pushNotify:!0,advertisingContent:""}),b=async()=>{var r;await((r=s.value)==null?void 0:r.validate())||d("changeStep","submit",{...o.value})},l=()=>{d("changeStep","backward")};return(e,r)=>{const u=T,p=N,_=q,$=L,F=P,k=D,m=S,B=M,R=I;return f(),g(R,{ref_key:"formRef",ref:s,model:o.value,class:"form","label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:a(()=>[t(p,{field:"advertisingSource",label:e.$t("stepForm.form.label.advertisingSource"),rules:[{required:!0,message:e.$t("stepForm.form.error.advertisingSource.required")}]},{default:a(()=>[t(u,{modelValue:o.value.advertisingSource,"onUpdate:modelValue":r[0]||(r[0]=c=>o.value.advertisingSource=c),placeholder:e.$t("stepForm.placeholder.advertisingSource")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(p,{field:"advertisingMedia",label:e.$t("stepForm.form.label.advertisingMedia"),rules:[{required:!0,message:e.$t("stepForm.form.error.advertisingMedia.required")}]},{default:a(()=>[t(u,{modelValue:o.value.advertisingMedia,"onUpdate:modelValue":r[1]||(r[1]=c=>o.value.advertisingMedia=c),placeholder:e.$t("stepForm.placeholder.advertisingMedia")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(p,{field:"keyword",label:e.$t("stepForm.form.label.keyword"),rules:[{required:!0,message:e.$t("stepForm.form.error.keyword.required")}]},{default:a(()=>[t($,{modelValue:o.value.keyword,"onUpdate:modelValue":r[2]||(r[2]=c=>o.value.keyword=c),placeholder:e.$t("stepForm.placeholder.keyword"),multiple:""},{default:a(()=>[t(_,null,{default:a(()=>r[5]||(r[5]=[n("\u4ECA\u65E5\u5934\u6761")])),_:1}),t(_,null,{default:a(()=>r[6]||(r[6]=[n("\u706B\u5C71")])),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(p,{field:"pushNotify",label:e.$t("stepForm.form.label.pushNotify"),rules:[{required:!0}]},{default:a(()=>[t(F,{modelValue:o.value.pushNotify,"onUpdate:modelValue":r[3]||(r[3]=c=>o.value.pushNotify=c)},null,8,["modelValue"])]),_:1},8,["label"]),t(p,{field:"advertisingContent",label:e.$t("stepForm.form.label.advertisingContent"),rules:[{required:!0,message:e.$t("stepForm.form.error.advertisingContent.required")},{maxLength:200,message:e.$t("stepForm.form.error.advertisingContent.maxLength")}],"row-class":"keep-margin"},{default:a(()=>[t(k,{modelValue:o.value.advertisingContent,"onUpdate:modelValue":r[4]||(r[4]=c=>o.value.advertisingContent=c),placeholder:e.$t("stepForm.placeholder.advertisingContent")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"]),t(p,null,{default:a(()=>[t(B,null,{default:a(()=>[t(m,{type:"secondary",onClick:l},{default:a(()=>[n(i(e.$t("stepForm.button.prev")),1)]),_:1}),t(m,{type:"primary",onClick:b},{default:a(()=>[n(i(e.$t("stepForm.button.next")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const re=V(ae,[["__scopeId","data-v-d889eaf1"]]),le={class:"success-wrap"},se={class:"details-wrapper"},ne=w({__name:"success",emits:["changeStep"],setup(h,{emit:v}){const d=v,s=()=>{d("changeStep",1)};return(o,b)=>{const l=z,e=S,r=M,u=Z,p=j,_=G;return f(),U("div",le,[t(l,{status:"success",title:o.$t("stepForm.success.title"),subtitle:o.$t("stepForm.success.subTitle")},null,8,["title","subtitle"]),t(r,{size:16},{default:a(()=>[t(e,{key:"view",type:"primary"},{default:a(()=>[n(i(o.$t("stepForm.button.view")),1)]),_:1}),t(e,{key:"again",type:"secondary",onClick:s},{default:a(()=>[n(i(o.$t("stepForm.button.again")),1)]),_:1})]),_:1}),C("div",se,[t(u,{heading:6,style:{"margin-top":"0"}},{default:a(()=>[n(i(o.$t("stepForm.form.description.title")),1)]),_:1}),t(_,{style:{"margin-bottom":"0"}},{default:a(()=>[n(i(o.$t("stepForm.form.description.text"))+" ",1),t(p,{href:"link"},{default:a(()=>[n(i(o.$t("stepForm.button.view")),1)]),_:1})]),_:1})])])}}});const pe=V(ne,[["__scopeId","data-v-c9d0c124"]]),ie={class:"container"},ue={class:"wrapper"},me={name:"Step"},de=w({...me,setup(h){const{loading:v,setLoading:d}=x(!1),s=y(1),o=y({}),b=async()=>{d(!0);try{await ee(o.value),s.value=3,o.value={}}catch{}finally{d(!1)}},l=(e,r)=>{if(typeof e=="number"){s.value=e;return}if(e==="forward"||e==="submit"){if(o.value={...o.value,...r},e==="submit"){b();return}s.value+=1}else e==="backward"&&(s.value-=1)};return(e,r)=>{const u=H("Breadcrumb"),p=W,_=Y,$=Q,F=X;return f(),U("div",ie,[t(u,{items:["menu.form","menu.form.step"]}),t(F,{loading:O(v),style:{width:"100%"}},{default:a(()=>[t($,{class:"general-card"},{title:a(()=>[n(i(e.$t("stepForm.step.title")),1)]),default:a(()=>[C("div",ue,[t(_,{current:s.value,"onUpdate:current":r[0]||(r[0]=k=>s.value=k),style:{width:"580px"},"line-less":"",class:"steps"},{default:a(()=>[t(p,{description:e.$t("stepForm.step.subTitle.baseInfo")},{default:a(()=>[n(i(e.$t("stepForm.step.title.baseInfo")),1)]),_:1},8,["description"]),t(p,{description:e.$t("stepForm.step.subTitle.channel")},{default:a(()=>[n(i(e.$t("stepForm.step.title.channel")),1)]),_:1},8,["description"]),t(p,{description:e.$t("stepForm.step.subTitle.finish")},{default:a(()=>[n(i(e.$t("stepForm.step.title.finish")),1)]),_:1},8,["description"])]),_:1},8,["current"]),(f(),g(J,null,[s.value===1?(f(),g(oe,{key:0,onChangeStep:l})):s.value===2?(f(),g(re,{key:1,onChangeStep:l})):s.value===3?(f(),g(pe,{key:2,onChangeStep:l})):K("",!0)],1024))])]),_:1})]),_:1},8,["loading"])])}}});const Be=V(de,[["__scopeId","data-v-6601e207"]]);export{Be as default};
